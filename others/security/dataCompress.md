# 数据压缩研究

| |protobuf.js|当前|json|自己实现|
|---|---|---|---|---|
|100点压缩后体积|2.3k|4.2k|6.4k|<1.6k|
|200点压缩后体积|4.6k|8.5k|12.8k|<3.2k|
|代码大小|>45k|<1k|<1k|<1k|

protobuf库压缩效率较json字符串提高64%，较当前人机版本提高45%，但是protobuf库本身需要约50~150k的大小，意味着最终js文件可能较大

# 自己实现

url上的可用字符共66个A-Za-z0-9_.-~，可采用66进制编码，通过限定每个字段的最大值，可以做到每个点需要16个字符或更少，那么200个点是16*200=3.2k，如上表。考虑到一些字段可以简化或合并，实际会有一些优化的空间。